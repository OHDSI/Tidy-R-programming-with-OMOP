{
  "hash": "3f7a610a727cededfb4482984e5d9c4f",
  "result": {
    "markdown": "# Getting started with R\n\n## Installing R and R Studio\n\nhttps://cran.r-project.org/bin/windows/base/\n\nhttps://www.rstudio.com/products/rstudio/download/\n\n## A first data analysis in R\n\n![](images/lter_penguins.png){width=\"250\"}\n\n*Artwork by \\@allison_horst*\n\nFor a quick example of a data analysis with R, let´s use the data from palmerpenguins package (https://allisonhorst.github.io/palmerpenguins/), which contains data on penguins collected from the [Palmer Station](https://en.wikipedia.org/wiki/Palmer_Station) in Antarctica.\n\nBecause we´ll be using a few packages not included in base R, first we need to install these if we don´t already have them.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"dplyr\")\ninstall.packages(\"ggplot2\")\ninstall.packages(\"palmerpenguins\")\n```\n:::\n\n\nOnce installed, we can load them like so.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(palmerpenguins)\n```\n:::\n\n\nWe can get an overview of the data using the `glimpse()` command.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n:::\n:::\n\n\nLet´s get a count by species\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  group_by(species) %>% \n  count()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 2\n# Groups:   species [3]\n  species       n\n  <fct>     <int>\n1 Adelie      152\n2 Chinstrap    68\n3 Gentoo      124\n```\n:::\n:::\n\n\nNow suppose we are particularly interested in the body mass variable. We can first notice that there are a couple of missing records for this.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  group_by(species) %>% \n  summarise(not_missing_body_mass_g=sum(!is.na(body_mass_g)==TRUE),\n            missing_body_mass_g=sum(is.na(body_mass_g)==TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 3\n  species   not_missing_body_mass_g missing_body_mass_g\n  <fct>                       <int>               <int>\n1 Adelie                        151                   1\n2 Chinstrap                      68                   0\n3 Gentoo                        123                   1\n```\n:::\n:::\n\n\nWe can get the mean for each of the species (dropping those two missing records).\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  group_by(species) %>% \n  summarise(mean_body_mass_g=round(mean(body_mass_g, na.rm=TRUE)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 2\n  species   mean_body_mass_g\n  <fct>                <dbl>\n1 Adelie                3701\n2 Chinstrap             3733\n3 Gentoo                5076\n```\n:::\n:::\n\n\nWe can then also do a histogram for each of the species.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  ggplot(aes(group=species, fill=species))+\n  facet_grid(species~ .) +\n  geom_histogram(aes(body_mass_g), colour=\"black\", binwidth = 100)+\n  theme_bw()+\n  theme(legend.position = \"none\") \n```\n\n::: {.cell-output-display}\n![](getting_started_with_r_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nHow about the relationship between body mass and bill depth?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  ggplot(aes(x=bill_depth_mm,y=body_mass_g))+\n  geom_point()+\n  geom_smooth(method=\"lm\",se=FALSE )+\n  theme_bw()+\n  theme(legend.position = \"none\") \n```\n\n::: {.cell-output-display}\n![](getting_started_with_r_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nBut what about by species?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  ggplot(aes(x=bill_depth_mm,y=body_mass_g))+\n  facet_grid(species~ .) +\n  geom_point()+\n  geom_smooth(method=\"lm\",se=FALSE )+\n  theme_bw()+\n  theme(legend.position = \"none\") \n```\n\n::: {.cell-output-display}\n![](getting_started_with_r_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nOh, your first data analysis and you have already found an example of [Simpson´s paradox](https://en.wikipedia.org/wiki/Simpson%27s_paradox)!\n",
    "supporting": [
      "getting_started_with_r_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}